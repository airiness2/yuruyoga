<h3><%= t('view.diary')%><%= t('view.index') %></h3>

<%= search_form_for @q do |f| %>

  <%= f.label :worked_date, "実施日" %>
  <%= f.date_field :worked_date_gteq %>
  〜
  <%= f.date_field :worked_date_lteq %>

  <%= f.label :pose_name_cont, "ポーズ" %>
  <%= f.search_field :pose_name_cont %>

  <%= f.label :tags_id_eq, "タグ" %>
  <%= f.collection_select :tags_id_eq, Tag.all, :id, :name, include_blank: true %>

  <br>
  
  <%= f.submit "検索" %>
<% end %>

<%= link_to '検索条件のクリア', request.path %>

<table>
  <thead>
    <tr>
      <th><%= t('view.worked_date') %></th>
      <th><%= t('view.user') %></th>
      <th><%= t('view.pose') %></th>
      <th><%= t('view.title') %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @diaries.each do |diary| %>
      <tr>
        <td><%= diary.worked_date %></td>
        <td><%= diary.user.name %></td>
        <td><%= diary.pose.name %></td>
        <td><%= diary.title %></td>
        <td><%= link_to '詳細', diary %></td>
        <td><%= link_to '編集', edit_diary_path(diary) %></td>
        <td><%= link_to '削除', diary, method: :delete, data: { confirm: '削除してもよろしいですか?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= paginate @diaries %>

<br>

<%= link_to '日記新規作成', new_diary_path  %>
